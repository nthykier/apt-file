<!doctype refentry PUBLIC "-//OASIS//DTD DocBook V4.1//EN">
<refentry>
  <refentryinfo>
    <address>
      <email>niels@thykier.net</email>
    </address>
    <author>
      <firstname>Sebastien</firstname>
      <surname>Gross</surname>
      <othername>J.</othername>
    </author>
    <author>
      <firstname>Niels</firstname>
      <surname>Thykier</surname>
    </author>
    <date>August 2015</date>
  </refentryinfo>

  <refmeta>
    <refentrytitle>apt-file</refentrytitle>
    <manvolnum>1</manvolnum>
  </refmeta>

  <refnamediv>
    <refname>apt-file</refname>
    <refpurpose>
      APT package searching utility -- command-line interface
    </refpurpose>
  </refnamediv>

  <refsynopsisdiv>
    <cmdsynopsis>
      <command>apt-file</command>
      <arg><option>options</option></arg>
      <arg>action</arg>
      <arg>pattern</arg>
    </cmdsynopsis>
    <cmdsynopsis>
      <command>apt-file</command>
      <option> -f</option>
      <arg><option>options</option></arg>
      <option> search</option>
      <arg>file ...</arg>
    </cmdsynopsis>
    <cmdsynopsis>
      <command>apt-file</command>
      <option> -D</option>
      <arg><option>options</option></arg>
      <option> search</option>
      <arg>binary-packet.deb ...</arg>
    </cmdsynopsis>
  </refsynopsisdiv>

  <refsect1>
    <title>DESCRIPTION</title>
    <para><command>apt-file</command> is a command line tool for
      searching files in packages for the APT package management system.</para>
    <para>Some actions are required to run the search:</para>
    <variablelist>

      <varlistentry>
	<term>find</term>
	<listitem>
	  <para>
	    Alias for <option>search</option>.
	  </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>list</term>
	<listitem>
	  <para>
	    List the contents of a package matching the
	    <option>pattern</option> pattern. This action is very
	    close to the <command>dpkg -L</command> command except the
	    package does not need to be installed or fetched.
	  </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>purge</term>
	<listitem>
	  <para>
	    remove all <filename>Contents-*</filename>
	    files from the cache directory.
	  </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>search</term>
	<listitem>
	  <para>
	    Search in which package a file is included. A list of all
	    packages containing the <option>pattern</option> pattern
	    is returned.
	  </para>
	  <para>
	    apt-file will only search for filenames, not directory names.
	    This is due to the format of the Contents files it searches.
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>show</term>
	<listitem>
	  <para>
	    Alias for <option>list</option>.
	  </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>update</term>
	<listitem>
	  <para>
            Calls apt update for you. :)
	  </para>
	</listitem>
      </varlistentry>

    </variablelist>
  </refsect1>

  <refsect1>
    <title>OPTIONS</title>
    <variablelist>

      <varlistentry>
	<term>
	  <option>-a, --architecture</option>
	  architecture
	</term>
	<listitem>
	  <para>
	  Sets architecture to <literal>architecture</literal>. This
	  option is useful if you search a package for a different
	  architecture from the one installed on your system.
	  </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>
	  <option>-D, --from-deb</option>
	</term>
	<listitem>
	  <para>
	    Use contents of the given .deb archives(s) as patterns.
	    Useful for searching for file conflicts with other packages.
	    Implies <option>-F</option>.
	  </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>
	  <option>-f, --from-file</option>
	</term>
	<listitem>
	  <para>
	    Read patterns from the given file(s), one per line.
	    Use <literal>-</literal> as filename for stdin.
	    If no files are given, then the list will be read from stdin.
	    This is much faster than invoking apt-file many times.
	  </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>
	  <option>-F, --fixed-string</option>
	</term>
	<listitem>
	  <para>
	    Do not expand search pattern with generic characters at
	    pattern's start and end.
	  </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>
	  <option>-i, --ignore-case</option>
	</term>
	<listitem>
	  <para>Ignore case when searching for <literal>pattern</literal>.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>
	  <option>-l, --package-only</option>
	</term>
	<listitem>
	  <para>
	    Only display package name; do not display file names.
	  </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>
	  <option>-v, --verbose</option>
	</term>
	<listitem>
	  <para>
	    Run <command>apt-file</command> in verbose mode.
	  </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>
	  <option>-x, --regexp</option>
	</term>
	<listitem>
	  <para>
	    Treat <literal>pattern</literal> as a (perl) regular expression. See
	    <command>perlreref</command>(1) for details. Without this option,
	    <literal>pattern</literal> is treated as a literal string to search
	    for.
	  </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>
	  <option>-h, --help</option>
	</term>
	<listitem>
	  <para>Display a short help screen.</para>
	</listitem>
      </varlistentry>

    </variablelist>
  </refsect1>

  <refsect1>
    <title>BUGS</title>
    <para>
     Complex regular expressions that match the leading slash may not work
     correctly. As a workaround, try to pull the leading slash to the beginning
     of the regular expression. For example, use "/(usr/bin/vim|sbin/lvm)"
     instead of "/usr/bin/vim|/sbin/lvm".
    </para>
  </refsect1>

  <refsect1>
    <title>SEE ALSO</title>
    <para>
      <command>auto-apt</command>(1), <command>apt-cache</command>(8),
      <command>apt-cdrom</command>(8), <command>dpkg</command>(8),
      <command>dselect</command>(8),
      <filename>sources.list</filename>(5),
      <filename>apt.conf</filename>(5),
      <command>apt_preferences</command>(5).
    </para>
    <para>
      The APT users guide in
      <filename>/usr/share/doc/apt/</filename>
    </para>
  </refsect1>

  <refsect1>
    <title>AUTHOR</title>
    <para>
      <command>apt-file</command> was originally written by Sebastien
      J. Gross
      <email>sjg@debian.org</email>.
    </para>
  </refsect1>

</refentry>
